<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>ref-tree 参照树形</title>
    <link type="text/css" rel="stylesheet" href="assets/css/bootstrap.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/bootstrap-responsive.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/style.css"/>
  </head>
<body>

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span3"><ul class="nav nav-list">
    <li class="sidebar-header-1"><a href="#ref-tree-参照树形">ref-tree 参照树形</a></li>
    <li class="sidebar-header-2"><a href="#何时使用">何时使用</a></li>
    <li class="sidebar-header-2"><a href="#如何使用">如何使用</a></li>
    <li class="sidebar-header-2"><a href="#代码演示">代码演示</a></li>
    <li class="sidebar-header-2"><a href="#api">API</a></li>
    <li class="sidebar-header-3"><a href="#reftreebaseui">RefTreeBaseUI</a></li>
    <li class="sidebar-header-3"><a href="#refwithinput-api">RefWithInput  API</a></li>
    <li class="sidebar-header-4"><a href="#refwithinput接收的参数">RefWithInput接收的参数</a></li>
    <li class="sidebar-header-4"><a href="#refwithinput提供的参数">RefWithInput提供的参数</a></li>
    <li class="sidebar-header-2"><a href="#注意事项">注意事项</a></li>
    <li class="sidebar-header-3"><a href="#reftreebaseui-1">RefTreeBaseUI</a></li>
    <li class="sidebar-header-3"><a href="#reftree">RefTree</a></li>
    <li class="sidebar-header-3"><a href="#reftreewithinput">RefTreeWithInput</a></li>
    <li class="sidebar-header-3"><a href="#createreftree">createRefTree</a></li>
    <li class="sidebar-header-3"><a href="#createreftreewithinput">createRefTreeWithInput</a></li>
    <li class="sidebar-header-2"><a href="#更新日志">更新日志</a></li>
</ul>
      </div>
      <div class="span9 main"><h1 id="ref-tree-参照树形">ref-tree 参照树形</h1>
<h2 id="何时使用">何时使用</h2>
<blockquote>
<p>单选多选树形参照通用ui</p>
</blockquote>
<h2 id="如何使用">如何使用</h2>
<pre class="hljs"><code>$ ynpm <span class="hljs-keyword">install</span> <span class="hljs-keyword">ref</span>-tree@<span class="hljs-number">2.0</span><span class="hljs-number">.0</span>-beta<span class="hljs-number">.0</span> <span class="hljs-comment">--save</span>

引入

<span class="hljs-keyword">import</span> RefTreeBaseUI <span class="hljs-keyword">from</span> <span class="hljs-string">'ref-tree'</span>;

样式

import 'ref-tree/dist/index.css';
</code></pre><h2 id="代码演示">代码演示</h2>
<h2 id="api">API</h2>
<h3 id="reftreebaseui">RefTreeBaseUI</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>className</td>
<td><code>string</code></td>
<td>空</td>
<td>参照class样式，作用于弹出层的样式，默认为空。</td>
<td>否</td>
</tr>
<tr>
<td>title</td>
<td><code>string</code></td>
<td>空</td>
<td>打开上传的模态框显示的标题文字</td>
<td>否</td>
</tr>
<tr>
<td>className</td>
<td><code>string</code></td>
<td>空</td>
<td>参照class样式，作用sh于弹出层的样式，默认为空。&#39;ref-walsin-modal&#39;参照使用另外一种风格</td>
<td>否</td>
</tr>
<tr>
<td>showLoading</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否展示loading，多用于请求中</td>
<td>否</td>
</tr>
<tr>
<td>backdrop</td>
<td><code>bool</code></td>
<td>true</td>
<td>弹出层是否有模态层，true 显示，false 不显示</td>
<td>否</td>
</tr>
<tr>
<td>lang</td>
<td><code>string</code></td>
<td><code>zh_TW</code></td>
<td>多语配置，详情查看参数详解</td>
<td>否</td>
</tr>
<tr>
<td>buttons</td>
<td><code>object</code></td>
<td>-</td>
<td>{buttons:{cancelText:&#39;&#39;,confirmText:&#39;&#39;,okText:&#39;&#39;}} 按钮文字展示</td>
<td>否</td>
</tr>
<tr>
<td>emptyBut</td>
<td><code>bool</code></td>
<td>false</td>
<td>清空按钮是否展示</td>
<td>否</td>
</tr>
<tr>
<td>valueField</td>
<td><code>string</code></td>
<td>&#39;refcode&#39;</td>
<td>待提交的 value 的键。</td>
<td>否</td>
</tr>
<tr>
<td>nodeDisplay</td>
<td><code>string 或 function</code></td>
<td><code>{refname}</code></td>
<td>节点渲染时可匹配的内容，这里为了提供根据数据渲染节点图标使用</td>
<td>否</td>
</tr>
<tr>
<td>checkStrictly</td>
<td><code>bool</code></td>
<td>checkable状态下节点选择完全受控（父子节点选中状态不再关联）</td>
<td>否</td>
</tr>
<tr>
<td>multiple</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否单选， true 多选，false 单选， 同时多选时不会有确认和取消按钮，多选时会出现复选框</td>
<td>否</td>
</tr>
<tr>
<td>searchable</td>
<td><code>bool</code></td>
<td>true</td>
<td>是否显示搜索框，弹出层是否带有搜索框，true 显示，false 不显示。</td>
<td>否</td>
</tr>
<tr>
<td>defaultExpandAll</td>
<td><code>bool</code></td>
<td>false</td>
<td>展开所有节点 true 展开，false 不展开</td>
<td>否</td>
</tr>
<tr>
<td>nodeDisplay</td>
<td><code>string 或 function</code></td>
<td>&#39;{refname}&#39;</td>
<td>指定树节点渲染内容。<br/>当为字符串时则会根据<code>{}</code>包裹的增则匹配替换。<br/>如：<code>&#39;人员姓名：{refname}，编号：{refcode}&#39;</code><br/>当为函数时则需自定义返回内容，参数为迭代已选择的记录。<br/>如：<br/>displayField: (record)=&gt;  ${record.refname}-${record.refname}。是树节点展示的内容</td>
<td>否</td>
</tr>
<tr>
<td>treeData</td>
<td><code>Array</code></td>
<td>[]</td>
<td>树参照数据</td>
<td>否</td>
</tr>
<tr>
<td>showModal</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否展示参照 ，true显示，false不显示(<span style="color: red; font-size: 15px;">refcorewithinput可以提供</span>)</td>
<td>否</td>
</tr>
<tr>
<td>onSave</td>
<td><code>function(value)</code></td>
<td>--</td>
<td>参照确定的回调(<span style="color: red; font-size: 15px;">refcorewithinput可以提供</span>)</td>
<td>否</td>
</tr>
<tr>
<td>onCancel</td>
<td><code>function(value)</code></td>
<td>--</td>
<td>参照取消的回调(<span style="color: red; font-size: 15px;">refcorewithinput可以提供</span>)</td>
<td>否</td>
</tr>
<tr>
<td>value</td>
<td><code>string</code></td>
<td>空</td>
<td>默认值，RefWithInput和参照组件都会使用，可以初始化树选中的节点。例如 <code>&#39;{&quot;refname&quot;:&quot;初级-T1&quot;,&quot;refpk&quot;:&quot;level1&quot;}&#39;</code>。</td>
<td>否</td>
</tr>
<tr>
<td>matchData</td>
<td><code>Array</code></td>
<td>[]</td>
<td>传给树选中的节点(<span style="color: red; font-size: 15px;">macthData优先，其次是value</span>)</td>
<td>否</td>
</tr>
</tbody>
</table>
<h3 id="refwithinput-api">RefWithInput  API</h3>
<p><span style="color: red; font-size: 15px;">注意：RefWithInput（ref-core）可以和RefTreeBaseUI配套使用，下面是RefWithInput可以接收的参数，以及RefWithInput给RefTreBaseUI提供的参数</span></p>
<h4 id="refwithinput接收的参数">RefWithInput接收的参数</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>wrapClassName</td>
<td><code>string</code></td>
<td>空</td>
<td>文本框的class样，默认为空。</td>
<td>否</td>
</tr>
<tr>
<td>placeholder</td>
<td><code>string</code></td>
<td>空</td>
<td>文本框的 placeholder</td>
<td>否</td>
</tr>
<tr>
<td>style</td>
<td><code>object</code></td>
<td>{width:200}</td>
<td>文本框的style，默认宽度200px</td>
<td>否 </td>
</tr>
<tr>
<td>filterUrl</td>
<td><code>string</code></td>
<td>空</td>
<td>快捷录入接口。</td>
<td>否</td>
</tr>
<tr>
<td>displayField</td>
<td><code>string 或 function</code></td>
<td>&#39;{refname}&#39;</td>
<td>记录中显示的键。<br/>当为字符串时则会根据<code>{}</code>包裹的增则匹配替换。<br/>如：<code>&#39;人员姓名：{refname}，编号：{refcode}&#39;</code><br/>当为函数时则需自定义返回内容，参数为迭代已选择的记录。<br/>如：<br/>displayField: (record)=&gt;  ${record.refname}-${record.refname}，是input展示value</td>
<td>否</td>
</tr>
<tr>
<td>valueField</td>
<td><code>string</code></td>
<td>&#39;refcode&#39;</td>
<td>待提交的 value 的键。</td>
<td>否</td>
</tr>
<tr>
<td>value</td>
<td><code>string</code></td>
<td>空</td>
<td>默认值，例如 <code>&#39;{&quot;refname&quot;:&quot;初级-T1&quot;,&quot;refpk&quot;:&quot;level1&quot;}&#39;</code>。</td>
<td>否</td>
</tr>
<tr>
<td>disabled</td>
<td><code>bool</code></td>
<td>false</td>
<td>禁用整个参照</td>
<td>否</td>
</tr>
<tr>
<td>onChange</td>
<td><code>function(values, record)</code></td>
<td>--</td>
<td>value改变、快捷录入和保存时数据回调</td>
<td>否</td>
</tr>
<tr>
<td>canClickGoOn</td>
<td><code>function()</code></td>
<td>()=&gt;{return true}</td>
<td>当点击文本框右侧弹出按钮时是否打开modal<br>适用于级联情况下当选择不全时的处理</td>
<td>否 </td>
</tr>
<tr>
<td>canInputGoOn</td>
<td><code>function()</code></td>
<td>()=&gt;{return true}</td>
<td>当点击文本框触发快捷录入时是否可以录入<br>适用于级联情况下当选择不全时的处理</td>
<td>否 </td>
</tr>
</tbody>
</table>
<h4 id="refwithinput提供的参数">RefWithInput提供的参数</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>showModal</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否展示参照 ，true显示，false不显示</td>
<td>否</td>
</tr>
<tr>
<td>onSave</td>
<td><code>function(value)</code></td>
<td>--</td>
<td>参照确定的回调，会更新checkedArray，showname（input的value），showModal关闭,最后回调RefWithInput接收的参数onSave</td>
<td>否</td>
</tr>
<tr>
<td>onCancel</td>
<td><code>function()</code></td>
<td>--</td>
<td>参照取消的回调，会更新showModal关闭,最后回调RefWithInput接收的参数onCancel</td>
<td>否</td>
</tr>
<tr>
<td>checkedArray</td>
<td><code>Array</code></td>
<td>[]</td>
<td>传给参照选中的节点，所以参照中选中节点通过value和matchData来控制</td>
<td>否</td>
</tr>
<tr>
<td>onMatchInitValue</td>
<td><code>function(value)</code></td>
<td>onMatchInitValue = (checkedArray) =&gt; {this.setState({checkedArray})}</td>
<td>更改checkedArray</td>
<td>否</td>
</tr>
</tbody>
</table>
<h2 id="注意事项">注意事项</h2>
<blockquote>
<p>RefCoreWithInput提供的参数可以保证参照组件showModal关闭打开，因此在使用RefCoreWithInput就不需要额外手动维护showModal</p>
</blockquote>
<blockquote>
<p>RefCoreWithInput使用value来展示input的值，参照组件使用matchData来初始化选中节点，若matchData为空，使用value来初始化参照中checkedArray（树组件可以，表不可以）</p>
</blockquote>
<blockquote>
<p>注意：modalShow在refcorewithinput中有提供。因此若是refcorewithinput和refmultipletablebaseui配合使用，注意showModal onSave onCancel</p>
</blockquote>
<h3 id="reftreebaseui-1">RefTreeBaseUI</h3>
<pre class="hljs"><code>树的通用ui，只有一个树组件</code></pre><h3 id="reftree">RefTree</h3>
<pre class="hljs"><code>参照弹出窗，没有输入框，使用时可根据自己需要定义具体的文本框。实质是RefCoreGlobal和RefTreeBaseUI的组合</code></pre><h3 id="reftreewithinput">RefTreeWithInput</h3>
<pre class="hljs"><code> 带文本框的参照弹出窗。在 RefTree 基础上封装实现，RefWithInput和 RefTree组合。</code></pre><h3 id="createreftree">createRefTree</h3>
<pre class="hljs"><code> 非 ReactJS 调用方式，与 RefTree 相同没有输入框，使用时可根据自己需要定义具体的文本框。</code></pre><h3 id="createreftreewithinput">createRefTreeWithInput</h3>
<pre class="hljs"><code>非 ReactJS 调用方式，与  RefTreeTableWithInput 相同带文本框的参照弹出窗。</code></pre><h2 id="更新日志">更新日志</h2>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
</body>
</html>
