<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>tinper-acs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="tinper-acs 是在 tinper-bee 基础组件体系之上结合典型业务场景而提炼封装的一系列通用业务类组件。">
    <meta name="keywords" content="tinper-acs, tinper, acs, iuap design">
    <meta name="keywords" content="react, UI, framework">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="renderer" content="webkit">
    <link rel="icon" href="//design.yonyoucloud.com/static/tinper-bee/images/favicon.png" type="image/png" sizes="16x16">
    <link href="//design.yonyoucloud.com/static/tinper-bee/latest/assets/tinper-bee.css" rel="stylesheet" media="screen" />
    <link rel="stylesheet" href="//design.yonyoucloud.com/static/docSearch/docsearch.min.css" /> 
    <link rel="stylesheet" href="./css/atom-one-dark.css" type="text/css"/>
    <link rel="stylesheet" href="./css/layout.css" type="text/css"/>
    <link rel="stylesheet" href="./css/narbar.css" type="text/css"/>
    <link rel="stylesheet" href="./css/sidebar.css" type="text/css"/>
    <link rel="stylesheet" href="./css/docs.css" type="text/css"/>
    <link rel="stylesheet" href="./css/footer.css" type="text/css"/>
</head>

<body>
    <div class="navbar">
        <% include navbar.html %>
    </div>
    <div class="mask"></div>
     <div id="openbtn" class="uf uf-navmenu"></div>
     <div id="closebtn" class="uf uf-close"></div>
    <div class="content">
        <div class="sidebar">
            <% include sidebar.html %>
        </div>
        <div class="docs">
            <% include docs.html %>
        </div>
        <div class="footer-out">
            <% include footer.html %>
        </div>
    </div>
</body>
<script type="text/javascript" src="//design.yonyoucloud.com/static/docSearch/docsearch.min.js"></script>
<script>
    docsearch({ 
            apiKey: 'd388a4977faabf821db64112c8abdcf7', 
            indexName: 'bee_tinper', 
            inputSelector: '#componentSearch', 
            debug: false // Set debug to true if you want to inspect the dropdown 
        }); 

    //侧边栏
    let openbtn=document.getElementById('openbtn'),//汉堡按钮
    closebtn=document.getElementById('closebtn'),//关闭按钮
    sidebar=document.getElementsByClassName('sidebar')[0],//侧边栏
    mask=document.getElementsByClassName('mask')[0];//遮罩层
    
    openbtn.addEventListener('click', function () {
        mask.style.display='block';
        closebtn.style.display='block';
        openbtn.style.display='none';
        sidebar.style.left=0;
        let docs=document.getElementsByClassName('docs')[0];
        //以下document的两句代码控制当左侧抽屉遮罩层出现时，遮罩层下面的页面不可以滚动，当点击关闭按钮后，页面才可以滚动。
        document.body.style.position = 'fixed';
        document.body.style.overflow = 'hidden';
        window.sessionStorage.setItem('openBtn',true)
    });

    //点击侧边栏的选项时，使侧边栏不消失的控制
    if(window.sessionStorage.getItem('openBtn')==='true'){
        console.log( document.getElementsByClassName('sidebar')[0].style)
        document.getElementsByClassName('sidebar')[0].style.left = 0;
        mask.style.display='block';
        closebtn.style.display='block';
        openbtn.style.display='none';
        sidebar.style.left=0;
        let docs=document.getElementsByClassName('docs')[0];
        document.body.style.position = 'fixed';
        document.body.style.overflow = 'hidden';
        window.sessionStorage.setItem('openBtn',true)
    }

    // 关闭按钮显示逻辑
    closebtn.addEventListener('click', function () {
        window.sessionStorage.setItem('openBtn',false)
        closebtn.style.display='none';
        mask.style.display="none";
        sidebar.style.left="-250px";
        openbtn.style.display='block';
        //以下document的两句代码控制当左侧抽屉遮罩层消失时，页面才可以滚动。
        document.body.style.position = 'relative';
        document.body.style.overflow = 'auto';
    }, false);
</script>


<% jsList.forEach(function(item){ %>
    <script src="<%= item %>" > </script> 
    <script>
        
    //控制点击“查看源码”时，浮层下方的页面不能滚动，浮层消失后，页面正常滚动。
    var openlist = document.querySelectorAll('.component-code');
    if(openlist.length!==0){
        for(var i in openlist){
            openlist[i].onclick=function() {
            document.body.style.position = 'fixed';
            document.body.style.overflow = 'hidden';
           };
        }
    }
    var maskease = document.querySelectorAll('.drawer-mask');
    if(maskease.lenght!==0){
        for(var i in maskease){
            maskease[i].onclick=function() {
            document.body.style.position = 'relative';
            document.body.style.overflow = 'auto';
            }
        }
    }      
    </script>
<% }); %> 
</html>